{"ast":null,"code":"import { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport { useState } from \"react\";\nimport storage from \"./firebaseConfig\";\nfunction UploadFiles(props) {\n  // State to store uploaded file\n  const storageRef = ref(storage, `/files/${file.name}`);\n  const uploadTask = uploadBytesResumable(storageRef, file);\n  uploadTask.on(\"state_changed\", snapshot => {\n    const prog = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n    setProgress(prog);\n  }, err => console.log(err), () => {\n    getDownloadURL(uploadTask.snapshot.ref).then(url => {\n      console.log(url);\n      let name = props.name;\n      let artist = props.artist;\n      let file = props.file;\n      const song = {\n        name,\n        artist,\n        file\n      };\n      fetch(\"http://localhost:8080/song/add\", {\n        //fetch(\"https://alexsherrowspotify.herokuapp.com/song/add\",{\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(song)\n      }).then(() => {\n        console.log(\"New song added\");\n      });\n    });\n  });\n}\n_c = UploadFiles;\nexport default uploadFiles;\nvar _c;\n$RefreshReg$(_c, \"UploadFiles\");","map":{"version":3,"names":["ref","uploadBytesResumable","getDownloadURL","useState","storage","UploadFiles","props","storageRef","file","name","uploadTask","on","snapshot","prog","Math","round","bytesTransferred","totalBytes","setProgress","err","console","log","then","url","artist","song","fetch","method","headers","body","JSON","stringify","uploadFiles"],"sources":["C:/Users/Alex/Documents/Spotify Project/SPOTIFY-FRONTEND-GOOD/spot/src/FileUpload.jsx"],"sourcesContent":["import { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\r\nimport { useState } from \"react\";\r\nimport storage from \"./firebaseConfig\";\r\n\r\nfunction UploadFiles (props) {\r\n      // State to store uploaded file\r\n  const storageRef = ref(storage, `/files/${file.name}`);\r\n  const uploadTask = uploadBytesResumable(storageRef, file);\r\n\r\n  uploadTask.on(\"state_changed\", (snapshot) => {\r\n    const prog = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n    setProgress(prog);\r\n  }, (err) => console.log(err),\r\n  () => {\r\n      getDownloadURL(uploadTask.snapshot.ref)\r\n      .then(url => {\r\n        console.log(url);\r\n        let name = props.name;\r\n        let artist = props.artist;\r\n        let file = props.file;\r\n        const song={name, artist, file};\r\n        fetch(\"http://localhost:8080/song/add\",{\r\n        //fetch(\"https://alexsherrowspotify.herokuapp.com/song/add\",{\r\n          method:\"POST\",\r\n          headers:{\"Content-Type\":\"application/json\"},\r\n          body:JSON.stringify(song)\r\n      }).then(()=>{\r\n        console.log(\"New song added\")\r\n      })\r\n      });\r\n\r\n  } );\r\n}\r\n\r\nexport default uploadFiles;"],"mappings":"AAAA,SAASA,GAAG,EAAEC,oBAAoB,EAAEC,cAAc,QAAQ,kBAAkB;AAC5E,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,OAAO,MAAM,kBAAkB;AAEtC,SAASC,WAAW,CAAEC,KAAK,EAAE;EACvB;EACJ,MAAMC,UAAU,GAAGP,GAAG,CAACI,OAAO,EAAG,UAASI,IAAI,CAACC,IAAK,EAAC,CAAC;EACtD,MAAMC,UAAU,GAAGT,oBAAoB,CAACM,UAAU,EAAEC,IAAI,CAAC;EAEzDE,UAAU,CAACC,EAAE,CAAC,eAAe,EAAGC,QAAQ,IAAK;IAC3C,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAEH,QAAQ,CAACI,gBAAgB,GAAGJ,QAAQ,CAACK,UAAU,GAAI,GAAG,CAAC;IAChFC,WAAW,CAACL,IAAI,CAAC;EACnB,CAAC,EAAGM,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,EAC5B,MAAM;IACFjB,cAAc,CAACQ,UAAU,CAACE,QAAQ,CAACZ,GAAG,CAAC,CACtCsB,IAAI,CAACC,GAAG,IAAI;MACXH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;MAChB,IAAId,IAAI,GAAGH,KAAK,CAACG,IAAI;MACrB,IAAIe,MAAM,GAAGlB,KAAK,CAACkB,MAAM;MACzB,IAAIhB,IAAI,GAAGF,KAAK,CAACE,IAAI;MACrB,MAAMiB,IAAI,GAAC;QAAChB,IAAI;QAAEe,MAAM;QAAEhB;MAAI,CAAC;MAC/BkB,KAAK,CAAC,gCAAgC,EAAC;QACvC;QACEC,MAAM,EAAC,MAAM;QACbC,OAAO,EAAC;UAAC,cAAc,EAAC;QAAkB,CAAC;QAC3CC,IAAI,EAACC,IAAI,CAACC,SAAS,CAACN,IAAI;MAC5B,CAAC,CAAC,CAACH,IAAI,CAAC,MAAI;QACVF,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC/B,CAAC,CAAC;IACF,CAAC,CAAC;EAEN,CAAC,CAAE;AACL;AAAC,KA5BQhB,WAAW;AA8BpB,eAAe2B,WAAW;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}